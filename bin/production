#!/bin/sh
# Create a new session named 'production'
tmux new-session -d -s production

# Rename first window
tmux rename-window -t production:1 'Localhost'

# Login to Apache 
tmux new-window -t production:2 -n 'Apache' 'ssh prod-apache1'
# Login to Tomcat and automatically start 'tailcat' based on custom bashrc
tmux new-window -t production:3 -n 'Tomcat Log' 'ssh prod-tomcat1 -t "/bin/bash --rcfile ~/.bashrc_tail"'
# Login to Tomcat
tmux new-window -t production:4 -n 'Tomcat' 'ssh prod-tomcat1'
# Login to PostgreSQL
tmux new-window -t production:5 -n 'Postgres' 'ssh prod-postgres1'
# Login to the Connector
tmux new-window -t production:6 -n 'Connector' 'ssh prod-connector'

# Select the Tomcat window
tmux select-window -t production:3
# Start tmux and attach to our production session
tmux -2 attach-session -t production
